function queryVariable(e){const s=window.location.search.substring(1),t=s.split("&");for(let s=0;s<t.length;s++){const i=t[s].split("=");if(i[0]===e){const e=decodeURIComponent(i[1].replace(/\+/g,"%20"));return e.replaceAll(/\W\s/g," ")}}}function displaySearchResults(e,s){const t=document.getElementById("search-results");if(e.length){let i="";e.forEach(e=>{const t=s.find(s=>s.id===e.ref);i+=`\n        <li>\n          <a href="${t.slug}">${t.name}</a>\n          <div class="location">${t.city}, ${t.stateAbbr}</div>\n        </li>`}),t.innerHTML=i}else t.innerHTML="<li>No results found</li>"}function positionCursor(e){e.focus();const s=e.value.length;e.setSelectionRange(s,s)}const searchTerm=queryVariable("query"),searchBox=document.getElementById("search-box");if(searchTerm){searchBox.setAttribute("value",searchTerm);const e=lunr(function(){this.ref("id"),this.field("name"),this.field("city"),this.field("stateName"),this.field("stateAbbr"),this.field("slug"),globalThis.places.forEach(function(e){this.add(e)},this)}),s=e.search(searchTerm);displaySearchResults(s,globalThis.places)}positionCursor(searchBox);